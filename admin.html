<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Admin ‚Äì AJE Coins</title>
    <link rel="stylesheet" href="styles.css"/>
    <script src="admin.js" defer></script>
</head>
<body>

<header class="topBar">
    <img src="assets/logo.png" class="logo" alt="Logo">
    <span>Panel Administrativo ‚Äì AJE Coins</span>
</header>

<main class="main-container">

    <div class="accordion">
        <button class="accordion-header">üìÅ Carga de Archivos (Usuarios y Productos) <span>‚ñº</span></button>
        <div class="accordion-content">
            <div class="grid-admin">
                <section class="card-mini">
                    <h3>Subir USUARIOS (CSV)</h3>
                    <input type="file" id="fileInput" accept=".csv"/>
                    <button id="uploadBtn" class="btn-admin">Cargar Usuarios</button>
                </section>
                <section class="card-mini">
                    <h3>Subir PRODUCTOS (CSV)</h3>
                    <input type="file" id="productFileInput" accept=".csv"/>
                    <button id="uploadProductBtn" class="btn-admin">Cargar Productos</button>
                </section>
            </div>
        </div>
    </div>

    <div class="accordion">
        <button class="accordion-header">üë• Lista Maestra (Registros √önicos) <span>‚ñº</span></button>
        <div class="accordion-content">
            <div class="filtros-bar">
                <select id="filtroCedisMaestra" class="select-admin">
                    <option value="">Todos los CEDIS</option>
                </select>
                <input type="text" id="inputBusquedaVendedor" placeholder="C√≥digo de Vendedor..." class="input-admin">
                <button id="btnCargarMaestra" class="btn-admin">Consultar</button>
                <button id="btnExportMaestra" class="btn-export">Exportar Lista</button>
            </div>
            <div id="infoMaestra" style="margin: 10px 0; font-weight: bold; color: #007a5a;"></div>
            <div class="table-wrapper">
                <table id="maestraTable">
                    <thead><tr><th>C√≥digo</th><th>Nombre</th><th>Cedis</th><th>Acciones</th></tr></thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="accordion">
        <button class="accordion-header">üì¶ Inventario de Productos <span>‚ñº</span></button>
        <div class="accordion-content">
            <div class="filtros-bar">
                <button id="btnCargarProductos" class="btn-admin">Ver Inventario</button>
                <button id="btnExportProds" class="btn-export">Exportar Inventario</button>
            </div>
            <div class="table-wrapper">
                <table id="productsTable">
                    <thead><tr><th>Producto</th><th>Imagen</th><th>Coins</th></tr></thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="accordion">
        <button class="accordion-header">üõí Historial de Canjes Realizados <span>‚ñº</span></button>
        <div class="accordion-content">
            <div class="filtros-bar">
                <button id="btnCargarCompras" class="btn-admin">Ver Historial</button>
                <button id="btnExportCompras" class="btn-export">Exportar Historial</button>
            </div>
            <div class="table-wrapper">
                <table id="comprasTable">
                    <thead><tr><th>Fecha</th><th>C√≥digo</th><th>Nombre</th><th>Cedis</th><th>Productos</th><th>Total</th></tr></thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="accordion">
        <button class="accordion-header">üìä Movimientos y Saldos por Usuario <span>‚ñº</span></button>
        <div class="accordion-content">
            <div class="filtros-bar">
                <input type="text" id="inputMovsCod" placeholder="C√≥digo Vendedor (opcional)..." class="input-admin">
                <button id="btnCargarMovs" class="btn-admin">Ver en Pantalla</button>
                <button id="btnExportMovs" class="btn-export">Exportar Tabla</button>
                <button id="btnExportMovsDirecto" class="btn-admin" style="background: #f39c12;">üöÄ Cargar Todo</button>
            </div>
            <div class="table-wrapper">
                <table id="movTable">
                    <thead>
                        <tr>
                            <th>C√≥digo</th>
                            <th>Nombre</th>
                            <th>Cedis</th>
                            <th>Fecha</th>
                            <th>Concepto</th>
                            <th>Productos</th> <th>Coins</th>
                            <th>Saldo</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
    </div>

</main>

<div id="loader" class="loader-overlay">
    <div class="spinner"></div>
    <p id="loaderText">Procesando...</p>
</div>

</body>
</html>
